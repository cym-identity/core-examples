<template>

  <lightning-spinner alternative-text="Loading" size="small" if:true={loading}></lightning-spinner>

  <template if:true={showRegistration}>
    <template if:true={showQRCode}>
      <div class="slds-text-body_regular slds-text-align_center" style="margin: 16px">Scan this QR Code with your app</div>
      <div class="slds-text-body_regular slds-text-align_center" style="margin: 16px">
        <img src={qrCodeUrl} alt="qrCode" style="width:160px;"/>
      </div>
      <footer class="slds-card__footer slds-text-align_center slds-button_stretch">
        <button class="slds-button slds-button_brand slds-button_stretch" onclick={handleScanNext}>Next</button>
      </footer>
    </template>

    <template if:false={showQRCode}>
      <div class="slds-text-body_regular slds-text-align_center" style="margin: 16px">Enter the 6 digit code from your Authenticator App</div>
      <div class="slds-text-align_center slds-p-around_medium">
        <c-otp-input length={length} onotpchange={handleOtpChange} ></c-otp-input>
      </div>
      <footer class="slds-card__footer slds-text-align_center slds-button_stretch">
        <button class="slds-button slds-button_brand slds-button_stretch" onclick={handleRegisterNext} disabled={nextDisabled}>Next</button>
      </footer>
    </template>
  </template>

  <template if:false={showRegistration}>
    <div class="slds-text-body_regular slds-text-align_center" style="margin: 16px">Enter the 6 digit code from your Authenticator App</div>
    <div class="slds-text-align_center slds-p-around_medium">
      <c-otp-input length={length} onotpchange={handleOtpChange} ></c-otp-input>
    </div>
    <footer class="slds-card__footer slds-text-align_center slds-button_stretch">
      <button class="slds-button slds-button_brand slds-button_stretch" onclick={handleNext} disabled={nextDisabled}>Next</button>
    </footer>
  </template>

</template>