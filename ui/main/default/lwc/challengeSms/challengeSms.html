<template>

    <lightning-spinner alternative-text="Loading" size="small" if:true={loading}></lightning-spinner>
    <div class="slds-text-align_center slds-p-around_medium">

      <div class="slds-text-body_regular" style={showRegister}>
        <div class="slds-text-body_regular" style="margin: 16px">{labels.twilio_verify_register_description}</div>
        <div class="slds-form-element slds-text-align_center">
          <label class="slds-form-element__label" for="phone"><abbr class="slds-required" title="required">* </abbr>{labels.twilio_verify_register_phone_label}</label>
          <div class="slds-form-element__control">
            <input class="slds-input phone-input" type="tel"/>
          </div>
        </div>
        <footer class="slds-card__footer slds-text-align_center slds-button_stretch">
          <button class="slds-button slds-button_brand slds-button_stretch" onclick={challenge}>{labels.twilio_verify_register_button}</button>
        </footer>
      </div>

      <div class="slds-text-body_regular" if:true={showOtp} >
        <div class="slds-text-body_regular" style="margin: 16px">{labels.twilio_verify_otp_description}</div>
        <div class="slds-form-element slds-text-align_center">
          <label class="slds-form-element__label" for="otp"><abbr class="slds-required" title="required">* </abbr>{labels.twilio_verify_otp_otp_label}</label>
          <div class="slds-form-element__control">
            <div class="slds-text-body_regular">
              <c-otp-input length={length} onotpchange={handleOtpChange} ></c-otp-input>
            </div>
          </div>
        </div>
        <footer class="slds-card__footer slds-text-align_right slds-button_stretch">
          Didn't receive the code? <a class="slds-button" onclick={handleResend}>Resend code</a>
        </footer>
        <footer class="slds-card__footer slds-text-align_center slds-button_stretch">
          <button class="slds-button slds-button_brand slds-button_stretch" disabled={nextDisabled} onclick={verify}>{labels.twilio_verify_otp_button}</button>
        </footer>
      </div>

    </div>

</template>