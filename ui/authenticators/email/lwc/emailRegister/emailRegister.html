<template>
  <lightning-spinner alternative-text="Loading" size="small" if:true={loading}></lightning-spinner>

  <c-exception-ui exception={error} if:true={error}></c-exception-ui>

  <form onsubmit={handleNext}>
    <div class="slds-text-body_regular slds-text-align_center" style="margin: 16px">Enter the 6 digit received by email</div>
    <div class="slds-text-align_center slds-p-around_medium">
      <div class="slds-form-element">
        <div class="slds-form-element__control">
          <input
            class="slds-input"
            style="width: 180px; margin: auto; letter-spacing: 15px;"
            type="text"
            oninput={handleOtpChange}
            inputmode="numeric"
            pattern="\d{6}"
            value={otp}
            required>
        </div>
      </div>
    </div>
    <div class="slds-p-top_large slds-text-align_right">
      <p>
        <span>Didn't receive the code? </span><a class="slds-button" onclick={handleResend}>Resend code</a>
        <button class="slds-button slds-button_brand slds-button_stretch" style="margin: 16px 0;" type="submit" disabled={nextDisabled}>Next</button>
      </p>
    </div>
  </form>
</template>
